<!DOCTYPE html>
<html>
<head>
    <title>Run GitHub Actions</title>
    <script>
        async function runAction() {
            const response = await fetch('https://api.github.com/repos/<username>/<repo>/actions/workflows/run_code.yml/dispatches', {
                method: 'POST',
                headers: {
                    'Accept': 'application/vnd.github+json',
                    'Authorization': `token ${GITHUB_TOKEN}`, // คุณต้องใช้ token ที่มีสิทธิ์ในการเรียกใช้ API
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ ref: 'main' }) // เปลี่ยน 'main' เป็นชื่อ branch ที่คุณใช้
            });

            if (response.ok) {
                alert('Workflow triggered successfully!');
            } else {
                alert('Failed to trigger workflow.');
            }
        }
    </script>
</head>
<body>
    <button onclick="runAction()">Run Code</button>
</body>
</html>
